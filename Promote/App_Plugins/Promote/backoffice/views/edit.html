<div ng-controller="promote.edit.controller as vm">
    
    <div class="control-group umb-control-group"  ng-if="vm.ab">
        <div class="umb-el-wrap">
            <div class="controls no-flex">
                <small>Module is in A-B relationship with {{ vm.ab.name }}. <strong>Selector</strong> and <strong>Attach</strong> properties will be inherited from the related module.</small>
            </div>
        </div>
    </div>

    <div class="control-group umb-control-group">
        <div class="umb-el-wrap">
            <label class="control-label">Name</label>
            <div class="controls">
                <input type="text" ng-model="model.promo.name" no-dirty-check />
            </div>
        </div>
    </div>
    
    <umb-property property="model.displayOn" class="run-on">
        <umb-property-editor model="model.displayOn" /> 
    </umb-property>

    <div class="control-group umb-control-group">
        <div class="umb-el-wrap">
            <div class="controls no-flex">
                <label>
                    <input type="radio" ng-model="model.promo.applyTo" value="this" no-dirty-check>
                    Just this page
                </label><br/>
                <label>
                    <input type="radio" ng-model="model.promo.applyTo" value="all" no-dirty-check>
                    All pages of this type
                </label>                
            </div>
        </div>
    </div>
    
    <div class="control-group umb-control-group">
        <div class="umb-el-wrap">
            <label class="control-label">A-B split</label>
            <div class="controls">
                <select ng-options="p.guid as p.name for p in model.promos | filter: vm.excludeCurrentPromo" ng-model="model.promo.ab" no-dirty-check>
                    <option disabled selected>Select</option>
                    <option value="">None</option>
                </select>
            </div>
        </div>
    </div>
    
    <umb-property property="model.mediaPicker">
        <umb-property-editor model="model.mediaPicker" />
    </umb-property>
    
    <umb-property property="model.link">
        <umb-property-editor model="model.link" />
    </umb-property>

    <div class="control-group umb-control-group">
        <div class="umb-el-wrap">
            <label class="control-label">Querystring</label>
            <div class="controls no-flex">
                <input type="text" placeholder="optional" ng-model="model.promo.querystring" no-dirty-check />
            </div>
        </div>
    </div>

    <div class="control-group umb-control-group">
        <div class="umb-el-wrap">
            <label class="control-label">Selector</label>
            <div class="controls">
                <input type="text" ng-model="model.promo.selector" no-dirty-check />
            </div>
        </div>
    </div>

    <div class="control-group umb-control-group">
        <div class="umb-el-wrap">
            <label class="control-label">Attach</label>
            <div class="controls no-flex">
                <label>
                    <input type="radio" ng-model="model.promo.attach" value="first" no-dirty-check>
                    First child
                </label><br />
                <label>
                    <input type="radio" ng-model="model.promo.attach" value="last" no-dirty-check>
                    Last child
                </label><br />
                <label>
                    <input type="radio" ng-model="model.promo.attach" value="before" no-dirty-check>
                    Before
                </label><br />
                <label>
                    <input type="radio" ng-model="model.promo.attach" value="after" no-dirty-check>
                    After
                </label>
            </div>
        </div>
    </div>
    
    <div class="control-group umb-control-group">
        <div class="umb-el-wrap">
            <label class="control-label">Additional CSS</label>
            <div class="controls">
                <textarea ng-model="model.promo.additionalCss" no-dirty-check></textarea>
            </div>
        </div>
    </div>
    
    <div class="control-group umb-control-group">
        <div class="umb-el-wrap">
            <label class="control-label">Additional Javascript</label>
            <div class="controls">
                <textarea ng-model="model.promo.additionalJs" no-dirty-check></textarea>
            </div>
        </div>
    </div>

</div>